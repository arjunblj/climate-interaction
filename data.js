'use strict';

// CO2 emissions (metric tons per capita) from The World Bank
// via http://data.worldbank.org/indicator/EN.ATM.CO2E.PC
const years = ["1960","1961","1962","1963","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016"]
const metricTonsData = ["15.9997791565885","15.6812555160569","16.0139374979897","16.4827621458239","16.9681185789701","17.4517252487095","18.1210730107855","18.5983178821611","19.0893891562783","19.85794566231","21.1112522725943","20.9802034758573","21.7486419846019","22.5105821272339","21.5029303777343","20.4022240696754","21.1576153736785","21.5324840060117","21.9730046948357","21.7804369776277","20.7864877412257","19.7667641742132","18.5904952301609","18.5715437097933","18.9767502682074","18.8823127427246","18.7207227161615","19.3503344229412","20.0104134086438","20.0757697786637","19.3233681671961","19.0622366580889","19.1455557591399","19.3634625825738","19.3765564368401","19.2956598592449","19.5278905060989","19.7142757383819","19.615154599897","19.7478147792431","20.2076147591466","19.6561932123448","19.6391957710047","19.5762390475548","19.683581350362","19.6102750390681","19.1161388237155","19.2374604467856","18.4892337521751","17.1923671443447","17.4848031479796","17.0194385160343","16.28705288144","16.389757994879","","","",]

const metricTonSeries = []

years.map((year, i) => {
  const value = metricTonsData[i];
  var style = 'height:' + value * 5 + 'px;';
  var requirement = '<div class="requirement" style="' + style + '></div>';
  var actual = '<div class="bar" style="' + style + '" ' +
          ' title="Actual: ' + value + '">' + Math.round(value * 100) / 100 + '</div>';

  metricTonSeries.push(
    [new Date(parseInt(year), 1, 1),
     new Date(parseInt(year) + 1, 1, 1),
     requirement + actual,
     'CO2 emissions (metric tons per capita)',
     false
    ]
  )
})
